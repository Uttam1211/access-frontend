{% extends "layouts/main.html" %} {% from "govuk/components/table/macro.njk"
import govukTable %} {% from "govuk/components/button/macro.njk" import
govukButton %} {% from "govuk/components/pagination/macro.njk" import
govukPagination %} {% block pageTitle %} {{ title }} - {{ serviceName }} {%
endblock %} {% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <a href="/dashboard" class="govuk-back-link">Back to dashboard</a>

    <h1 class="govuk-heading-xl">{{ title }}</h1>

    {% if suppliers and suppliers.length > 0 %} {{ govukTable({
    firstCellIsHeader: false, head: [ { text: "Company Name" }, { text: "Share
    Code" }, { text: "Review Date" }, { text: "Reviewed By" }, { text: "Actions"
    } ], rows: suppliers | map(supplier => [ { html: '<a
      href="/suppliers/' + supplier.id + '"
      class="govuk-link"
      >' + supplier.data.identifier.legalName + '</a
    >' }, { text: supplier.share_code }, { text: supplier.reviewed_at | date },
    { text: supplier.reviewed_by }, { html: '<a
      href="/suppliers/' + supplier.id + '"
      class="govuk-link"
      >View details</a
    >' } ]) }) }} {{ govukPagination({ previous: { href: "/suppliers/" + status
    + "?page=" + (currentPage - 1) if currentPage > 1 }, next: { href:
    "/suppliers/" + status + "?page=" + (currentPage + 1) if hasNextPage },
    items: pagination }) if pagination }} {% else %}
    <p class="govuk-body">No {{ status }} suppliers found.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
